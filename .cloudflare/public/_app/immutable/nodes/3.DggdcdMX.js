import{d as Y,a as u,t as w,h as Ae}from"../chunks/B-Dr2cRb.js";import"../chunks/DOvYsISe.js";import{aE as Le,g as ye,aA as we,m as ke,p as S,a as C,f as R,a7 as ee,aC as $,K as O,X as g,c as d,s as f,t as be,i as a,M as p,r as c,C as D}from"../chunks/BlTpSGD8.js";/* empty css                */import{l as Ie,d as $e,r as qe}from"../chunks/ChECSWBu.js";import{i as X}from"../chunks/DKmXJPfJ.js";import{I as te,s as W,r as _e}from"../chunks/Btw6_rf5.js";import{a as ae,s as ue}from"../chunks/Dq12EtSq.js";import{o as xe,a as Se}from"../chunks/DdiJvTiH.js";import{P as Ce,I as J}from"../chunks/BND9brQY.js";import{s as re,r as le}from"../chunks/_BQvoK0b.js";function Be(e,t,r=t){var n=Le();Ie(e,"input",i=>{var v=i?e.defaultValue:e.value;if(v=fe(e)?ge(v):v,r(v),n&&v!==(v=t())){var l=e.selectionStart,m=e.selectionEnd;e.value=v??"",m!==null&&(e.selectionStart=l,e.selectionEnd=Math.min(m,e.value.length))}}),(ke&&e.defaultValue!==e.value||ye(t)==null&&e.value)&&r(fe(e)?ge(e.value):e.value),we(()=>{var i=t();fe(e)&&i===ge(e.value)||e.type==="date"&&!i&&!e.value||i!==e.value&&(e.value=i??"")})}function Ve(e,t,r=t){Ie(e,"change",n=>{var i=n?e.defaultChecked:e.checked;r(i)}),(ke&&e.defaultChecked!==e.checked||ye(t)==null)&&r(e.checked),we(()=>{var n=t();e.checked=!!n})}function fe(e){var t=e.type;return t==="number"||t==="range"}function ge(e){return e===""?null:+e}function Xe(e,t){S(t,!0);let r=le(t,["$$slots","$$events","$$legacy"]);te(e,re({name:"library-big"},()=>r,{iconNode:[["rect",{width:"8",height:"18",x:"3",y:"3",rx:"1"}],["path",{d:"M7 3v18"}],["path",{d:"M20.4 18.9c.2.5-.1 1.1-.6 1.3l-1.9.7c-.5.2-1.1-.1-1.3-.6L11.1 5.1c-.2-.5.1-1.1.6-1.3l1.9-.7c.5-.2 1.1.1 1.3.6Z"}]],children:(i,v)=>{var l=Y(),m=R(l);ae(m,()=>t.children??ee),u(i,l)},$$slots:{default:!0}})),C()}function Re(e,t){S(t,!0);let r=le(t,["$$slots","$$events","$$legacy"]);te(e,re({name:"message-square-warning"},()=>r,{iconNode:[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"}],["path",{d:"M12 7v2"}],["path",{d:"M12 13h.01"}]],children:(i,v)=>{var l=Y(),m=R(l);ae(m,()=>t.children??ee),u(i,l)},$$slots:{default:!0}})),C()}function Ne(e,t){S(t,!0);let r=le(t,["$$slots","$$events","$$legacy"]);te(e,re({name:"pause"},()=>r,{iconNode:[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1"}]],children:(i,v)=>{var l=Y(),m=R(l);ae(m,()=>t.children??ee),u(i,l)},$$slots:{default:!0}})),C()}function Pe(e,t){S(t,!0);let r=le(t,["$$slots","$$events","$$legacy"]);te(e,re({name:"play"},()=>r,{iconNode:[["polygon",{points:"6 3 20 12 6 21 6 3"}]],children:(i,v)=>{var l=Y(),m=R(l);ae(m,()=>t.children??ee),u(i,l)},$$slots:{default:!0}})),C()}function Ke(e,t){S(t,!0);let r=le(t,["$$slots","$$events","$$legacy"]);te(e,re({name:"refresh-ccw"},()=>r,{iconNode:[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"}],["path",{d:"M3 3v5h5"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16"}],["path",{d:"M16 16h5v5"}]],children:(i,v)=>{var l=Y(),m=R(l);ae(m,()=>t.children??ee),u(i,l)},$$slots:{default:!0}})),C()}function Ue(e,t){window.open(`https://docs.google.com/forms/d/e/1FAIpQLSdxxGCl9lvrv06X3Tj0XPJThzDmBKux7S67ZEvw_sd8yKRdhQ/viewform?usp=pp_url&entry.1198644953=${a(t)}`,"_blank")}async function Ge(e,t){const r=await fetch("/api/random-isbn");if(r.ok){const n=await r.json();p(t,n==null?void 0:n.isbn,!0)}}function Qe(e,t,r,n){p(t,!a(t)),a(t)?r():n()}var Te=w('<div class="text-lg md:text-xl font-semibold">一時停止ボタンを押すとISBNを入力できます</div>'),Ze=w('<div class="text-lg md:text-xl font-semibold">ISBNを入力してください</div> <div class="text-slate-500 text-sm">ハイフンは省略できます</div>',1),He=w('<div class="flex items-center justify-center p-4"><div class="w-full max-w-6xl bg-slate-100 rounded-3xl p-4 md:p-8 shadow-lg"><div class="flex flex-col lg:flex-row gap-6"><div class="flex flex-col p-4 gap-2 flex-1"><div class="flex items-center justify-start gap-4 hover:text-amber-800"><div class="isbn-controls"><button class="w-12 h-12 md:w-16 md:h-16 border border-slate-400 bg-slate-50 hover:bg-amber-50 hover:ring hover:ring-slate-400 rounded-full flex items-center justify-center transition-colors"><!></button></div> <div><label class="cursor-pointer"><!></label></div></div> <div class="my-4"><input id="isbn" placeholder="ISBNを入力してください"> <div><button class="px-4 py-2 flex items-center gap-2 bg-white hover:bg-slate-50 border border-slate-500 rounded cursor-pointer"><!> ランダム入力</button></div> <div class="my-4 flex items-center gap-2"><input id="showFront" type="checkbox" class="inline-block"> <label for="showFront" class="text-slate-800 font-semibold cursor-pointer">表紙も表示する</label></div> <!></div> <button class="text-sm px-4 py-2 flex items-center gap-2 size-fit border border-slate-500 bg-bg-slate-50 hover:bg-white rounded cursor-pointer"><!> 不具合を報告</button></div> <div class="flex-1 transform scale-75 md:scale-100"><!></div></div></div></div>');function Je(e,t){S(t,!0);const r=["9784087213126","9784480076403","9784004320340","9784121028440"],n=["#EEE3B4","#D9BD90","#CE8282","#689997"],i=2e3,v=`play-button-${Math.random().toString(36).substring(2,11)}`;let l=$(O(r[0])),m=$(O(n[0])),h=0,_,b=$(!0),y=$(!1),B=g(()=>a(l)?[{isbn:a(l),displaySides:["spine",...a(y)?["front"]:[]]}]:[]),x=g(()=>a(l).trim().replace(/[^0-9Xx]/g,""));g(()=>a(x)==="");let k=g(()=>J.parse(a(x)).isValid),K=g(()=>{var o;return a(k)?(o=J.parse(a(x)))==null?void 0:o.toString({version:"isbn13"}):""});g(()=>{var o;return a(k)?(o=J.parse(a(x)))==null?void 0:o.toString({version:"isbn10"}):""}),g(()=>{var o;return a(k)?(o=J.parse(a(K)))==null?void 0:o.toString({hyphens:!0}):""}),g(()=>a(k)?`https://image.opencover.jp/v1/cover/spine/${a(K)}.webp`:"");function E(){_&&clearInterval(_),p(l,r[h],!0),p(m,n[h],!0),_=setInterval(()=>{h=(h+1)%r.length,p(l,r[h],!0),p(m,n[h],!0)},i)}function U(){clearInterval(_),_=null,p(l,""),p(m,"#C0CDD9")}xe(()=>{a(b)&&E()}),Se(()=>{U()});var z=He(),F=d(z),A=d(F),N=d(A),I=d(N),G=d(I),P=d(G);W(P,"id",v),P.__click=[Qe,b,E,U];var ce=d(P);{var se=o=>{Ne(o,{size:28,fill:"currentColor"})},oe=o=>{Pe(o,{size:28,fill:"currentColor"})};X(ce,o=>{a(b)?o(se):o(oe,!1)})}c(P),c(G);var ne=f(G,2),Q=d(ne);W(Q,"for",v);var ve=d(Q);{var ie=o=>{var H=Te();u(o,H)},j=o=>{var H=Ze();D(2),u(o,H)};X(ve,o=>{a(b)?o(ie):o(j,!1)})}c(Q),c(ne),c(I);var L=f(I,2),M=d(L);_e(M);let de;var q=f(M,2);let T;var Z=d(q);Z.__click=[Ge,l];var me=d(Z);Ke(me,{size:16,class:"inline-block"}),D(),c(Z),c(q);var s=f(q,2),V=d(s);_e(V),D(2),c(s);var je=f(s,2);{var Me=o=>{},De=o=>{};X(je,o=>{a(k)?o(Me):o(De,!1)})}c(L);var pe=f(L,2);pe.__click=[Ue,l];var Ee=d(pe);Re(Ee,{}),D(),c(pe),c(N);var he=f(N,2),ze=d(he);const Fe=g(()=>`/shelf/isbn/${a(l)}`);Ce(ze,{get books(){return a(B)},get bgColor(){return a(m)},get link(){return a(Fe)}}),c(he),c(A),c(F),c(z),be((o,H)=>{W(P,"aria-label",a(b)?"Stop":"Play"),de=ue(M,1,"border border-slate-500 p-2 md:p-4 text-lg md:text-2xl font-mono font-semibold bg-white rounded-lg svelte-pfjyyb",null,de,o),M.disabled=a(b),T=ue(q,1,"my-4",null,T,H)},[()=>({"disabled-input":a(b)}),()=>({hidden:a(b)})]),Be(M,()=>a(l),o=>p(l,o)),Ve(V,()=>a(y),o=>p(y,o)),u(e,z),C()}$e(["click"]);function Oe(e,t,r,n){p(t,!a(t)),a(t)?r():n()}var We=w('<div class="text-lg md:text-xl font-semibold">一時停止ボタンを押すとISBNのリストを入力できます</div>'),Ye=w('<div class="text-lg md:text-xl font-semibold">ISBNのリストを入力してください</div> <div class="text-slate-500 text-sm">改行かスペース、コンマで区切って入力してください</div>',1),et=w('<div class="flex items-center justify-center p-4"><div class="w-full max-w-6xl bg-slate-100 rounded-3xl p-4 md:p-8 shadow-lg"><div class="flex flex-col lg:flex-row gap-6"><div class="flex flex-col p-4 gap-2 flex-1"><div class="flex items-center justify-start gap-4"><div class="isbn-controls"><button id="playPause" class="w-12 h-12 md:w-16 md:h-16 border border-slate-400 bg-slate-50 hover:bg-slate-200 hover:ring hover:ring-slate-400 rounded-full flex items-center justify-center transition-colors text-slate-800"><!></button></div> <div><label for="playPause" class="cursor-pointer"><!></label></div></div> <div class="my-4"><textarea id="isbns" rows="5" placeholder="ISBNのリストを入力してください"></textarea> <!></div></div> <div class="flex-1"><!></div></div></div></div>');function tt(e,t){S(t,!0);const r=["9784087213126","9784480076403","9784004320340","9784121028440"],n=["#D9BD90"],i=2e3;let v=$(O(r.join(`
`))),l=g(()=>a(v).trim().split(/[\s,;]+/).map(s=>s.trim().replace(/[^0-9Xx]/g,"")).map(s=>s.trim()).filter(s=>s.length>0).slice(0,10));g(()=>a(l).length===0);let m=g(()=>a(l).every(s=>J.parse(s).isValid)),h=g(()=>a(l).length===0?[]:a(l).map(s=>({isbn:s,displaySides:["spine"]}))),_=$(O(r[0])),b=$(O(n[0])),y=0,B,x=$(!0);function k(){B&&clearInterval(B),p(v,r.join(`
`),!0),p(b,n[y],!0),B=setInterval(()=>{y=(y+1)%r.length,p(_,r[y],!0),p(b,n[y%n.length],!0)},i)}function K(){clearInterval(B),B=null,p(v,""),p(b,"#C0CDD9")}xe(()=>{a(x)&&k()}),Se(()=>{K()});var E=et(),U=d(E),z=d(U),F=d(z),A=d(F),N=d(A),I=d(N);I.__click=[Oe,x,k,K];var G=d(I);{var P=s=>{Ne(s,{size:28,fill:"currentColor"})},ce=s=>{Pe(s,{size:28,fill:"currentColor"})};X(G,s=>{a(x)?s(P):s(ce,!1)})}c(I),c(N);var se=f(N,2),oe=d(se),ne=d(oe);{var Q=s=>{var V=We();u(s,V)},ve=s=>{var V=Ye();D(2),u(s,V)};X(ne,s=>{a(x)?s(Q):s(ve,!1)})}c(oe),c(se),c(A);var ie=f(A,2),j=d(ie);qe(j);let L;var M=f(j,2);{var de=s=>{},q=s=>{};X(M,s=>{a(m)?s(de):s(q,!1)})}c(ie),c(F);var T=f(F,2),Z=d(T);const me=g(()=>`/shelf/isbn/${a(l).join(",")}`);Ce(Z,{get books(){return a(h)},get bgColor(){return a(b)},get link(){return a(me)}}),c(T),c(z),c(U),c(E),be(s=>{W(I,"aria-label",a(x)?"Stop":"Play"),L=ue(j,1,"border border-slate-500 p-2 md:p-4 text-lg md:text-2xl font-mono font-semibold bg-white rounded-lg svelte-pfjyyb",null,L,s),j.disabled=a(x)},[()=>({"disabled-input":a(x)})]),Be(j,()=>a(v),s=>p(v,s)),u(e,E),C()}$e(["click"]);var at=w('<div class="instagram-embed-container"><blockquote class="instagram-media" data-instgrm-version="14" style="background:#FFF; border:0; border-radius:3px; box-shadow:0 0 1px 0 rgba(0,0,0,0.5),0 1px 10px 0 rgba(0,0,0,0.15); margin: 1px; max-width:540px; min-width:326px; padding:0; width:99.375%; width:calc(100% - 2px);"></blockquote></div>');function rt(e,t){S(t,!0),xe(()=>{if(document.getElementById("instagram-embed-script"))window.instgrm&&window.instgrm.Embeds.process();else{const i=document.createElement("script");i.id="instagram-embed-script",i.src="//www.instagram.com/embed.js",i.async=!0,i.defer=!0,document.body.appendChild(i)}});var r=at(),n=d(r);c(r),be(()=>W(n,"data-instgrm-permalink",t.postUrl)),u(e,r),C()}var lt=w('<meta property="og:title" content="opencover : みんなでつくる書籍カバー画像"> <meta property="og:type" content="website"> <meta property="og:description" content="opencoverは、本のカバー画像を生成し配信するウェブAPIです。"> <meta property="og:image" content="https://opencover.jp/ogp.png"> <meta property="og:site_name" content="opencover : みんなでつくる書籍カバー画像"> <meta property="og:url" content="https://opencover.jp/"> <meta name="description" content="opencoverは、本のカバー画像を生成し配信するウェブAPIです。"> <meta name="twitter:card" content="summary_large_image">',1),st=w(`<div class="relative overflow-hidden bg-no-repeat bg-cover h-[300px] md:h-[500px]" style="
  background-image: url('/bookshelf-bg.jpg');
  background-repeat: repeat-y;
  background-size: 100%;
  background-attachment: fixed;
  "><div class="absolute top-0 right-0 bottom-0 left-0 w-full h-full overflow-hidden bg-linear-to-b from-orange-300/50 to-orange-900/60"><div class="flex justify-center items-center h-full"><div class="flex flex-col items-center text-center text-white px-6 md:px-12"><h1 class="text-4xl md:text-6xl font-bold drop-shadow-[0_12px_12px_rgba(0,0,0,1)] md:drop-shadow-[0_16px_16px_rgba(0,0,0,1)] mt-0 mb-6 tracking-widest">opencover</h1> <h2 class="text-lg md:text-2xl font-bold drop-shadow-[0_4px_4px_rgba(0,0,0,1)] md:drop-shadow-[0_8px_8px_rgba(0,0,0,1)] mb-8">みんなでつくる書籍カバー</h2> <div class="text-sm md:text-base font-semibold bg-orange-900/10 border border-white rounded px-4 py-2 size-fit">プレビュー版</div></div></div></div> <div class="absolute right-2 bottom-2 bg-black text-gray-200 opacity-70 text-xs px-2 py-1 rounded">opencover背表紙で作成した本棚画像</div></div> <div class="container mx-auto p-4"><h3 class="text-xl font-bold my-8">opencoverとは</h3> <div class="text-md sm:text-lg md:text-lg lg:text-lg leading-[2] my-9">opencoverは、本のカバー画像を生成し配信するウェブAPIです。
    非営利のプロジェクトです。どなたでもご自由にお使いいただけます。
    ISBNを指定したURLを呼び出すことで、かんたんに背表紙画像を取得できます。
    対応している書籍は、新書を中心に約70,000冊です。 <a href="how-to-use" class="p-2 px-4 text-sm border border-slate-300 rounded-full hover:bg-slate-100">もっとくわしく…</a></div> <h3 class="text-xl font-bold my-8">使用例</h3> <h3 class="text-xl font-bold my-8 flex items-center gap-2"><img src="/favicon.svg" alt="Book" class="w-6 h-6"> 1冊の本の背表紙を見るサンプル</h3> <div class="text-md sm:text-lg md:text-lg lg:text-lg leading-[2] my-9">ISBNから本の背表紙画像を生成しています。</div> <!> <h3 class="text-xl font-bold my-8 flex items-center gap-2"><!> 複数冊の本棚を見るサンプル</h3> <div class="text-md sm:text-lg md:text-lg lg:text-lg leading-[2] my-9">複数冊の背表紙を並べて配置すると、本棚のようなイメージを作ることができます。
    ここでは、ISBNのリストから最大10冊までの本棚を表示しています。</div> <!> <h3 class="text-xl font-bold my-8">活用例</h3> <h4 class="text-lg font-bold my-8">Biblisist</h4> <div class="text-md sm:text-lg md:text-lg lg:text-lg leading-[2] my-9">opencoverの画像を活用した、ユーザが本棚を作成し共有できるサービスを開発中です。
    2025年リリース予定です。</div> <!></div>`,1);function bt(e){var t=st();Ae(h=>{var _=lt();D(14),u(h,_)});var r=f(R(t),2),n=f(d(r),10);Je(n,{});var i=f(n,2),v=d(i);Xe(v,{}),D(),c(i);var l=f(i,4);tt(l,{});var m=f(l,8);rt(m,{postUrl:"https://www.instagram.com/reel/DG0P1tFMy5O/"}),c(r),u(e,t)}export{bt as component};
