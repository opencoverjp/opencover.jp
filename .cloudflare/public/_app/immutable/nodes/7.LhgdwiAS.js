import{t as h,a as u,h as T}from"../chunks/B-Dr2cRb.js";import"../chunks/DOvYsISe.js";import{p as J,X as U,c as r,s,r as a,i as l,t as C,a as K,$ as W,f as Y,I as E,C as Z}from"../chunks/BlTpSGD8.js";import{e as A,i as F,s as f}from"../chunks/Btw6_rf5.js";import{i as $}from"../chunks/Cta3jvXf.js";import{p as ee}from"../chunks/_BQvoK0b.js";import{I as H,P as te}from"../chunks/BND9brQY.js";import{s as c}from"../chunks/CLK_dOat.js";import{i as ae}from"../chunks/DKmXJPfJ.js";var oe=h('<div class="px-4 py-2 text-sm bg-slate-100 size-fit rounded"> </div>'),re=h('<a target="_blank" class="px-2 py-1 text-xs md:text-sm border border-gray-300 rounded hover:bg-slate-100"> </a>'),ie=h('<div class="flex items-center gap-2"><div class="text-sm font-semibold text-slate-800"> </div> <div class="flex flex-wrap gap-2"></div></div>'),se=h('<section class="mb-4 border border-slate-200 p-6 rounded"><!> <h3 class="book-title flex items-center gap-2 text-xl font-bold mt-4"><span> </span></h3> <div class="my-3"> </div> <div class="my-3"> </div> <div class="my-3 text-xs md:text-sm font-mono"> </div> <div class="my-4"><div class="flex flex-col gap-3"></div></div></section>');function ne(N,e){J(e,!0);const P=[{name:"buy",label:"買う",sites:[{name:"amazon",label:"Amazon"},{name:"rakuten",label:"楽天ブックス"},{name:"kinokuniya",label:"紀伊国屋書店"},{name:"maruzenjunkudo",label:"丸善ジュンク堂"},{name:"honto",label:"honto"},{name:"openbs",label:"近くの書店在庫"}]},{name:"search",label:"探す",sites:[{name:"calil",label:"図書館 (カーリル)"},{name:"cinii",label:"大学図書館 (CiNii Books)"}]},{name:"record",label:"記録する",sites:[{name:"bookmeter",label:"読書メーター"},{name:"booklog",label:"ブクログ"},{name:"googlebooks",label:"Google ブックス"}]}],p=U(()=>{var o,t;return H.parse((o=e.book.book)==null?void 0:o.isbn).isValid?H.parse((t=e.book.book)==null?void 0:t.isbn).toString({version:"isbn13",hyphens:[!0]}):""});var y=se(),z=r(y);{var G=o=>{var t=oe(),m=r(t);a(t),C(()=>c(m,`${e.index??""}冊目`)),u(o,t)};ae(z,o=>{e.index>0&&o(G)})}var n=s(z,2),x=r(n),I=r(x);a(x),a(n);var v=s(n,2),j=r(v,!0);a(v);var B=s(v,2),q=r(B);a(B);var i=s(B,2),_=r(i);a(i);var d=s(i,2),b=r(d);A(b,21,()=>P,F,(o,t)=>{let m=()=>l(t).label,w=()=>l(t).sites;var k=ie(),g=r(k),L=r(g,!0);a(g);var V=s(g,2);A(V,21,w,F,(M,X,ve,de)=>{let O=()=>l(X).name,Q=()=>l(X).label;var S=re(),R=r(S,!0);a(S),C(()=>{var D;f(S,"href",`/goto/${O()}/${(D=e.book.book)==null?void 0:D.isbn}`),c(R,Q())}),u(M,S)}),a(V),a(k),C(()=>c(L,m())),u(o,k)}),a(b),a(d),a(y),C(()=>{var o,t,m,w,k,g;c(I,`${((o=e.book.book)==null?void 0:o.title)??""}${((t=e.book.book)!=null&&t.subtitle?`──${(m=e.book.book)==null?void 0:m.subtitle}`:"")??""}`),c(j,(w=e.book.book)==null?void 0:w.author),c(q,`${((k=e.book.book)==null?void 0:k.label)??""}　${((g=e.book.book)==null?void 0:g.publisher)??""}`),c(_,`ISBN: ${l(p)??""}`)}),u(N,y),K()}var le=h('<meta property="og:url"> <meta property="og:title"> <meta property="og:description"> <meta property="og:image"> <meta property="og:type" content="article"> <meta property="og:site_name" content="opencover : みんなでつくる書籍カバー画像"> <meta name="description"> <meta name="twitter:card" content="summary_large_image">',1),me=h('<div class="md:w-8/12 p-4 mx-auto"><h3 class="title text-xl font-bold my-8 svelte-zbf2kb"></h3> <div class="my-8"><!></div> <!></div>');function he(N,e){J(e,!1);let P=ee(e,"data",8),{books:p,bgColor:y,title:z,isSingleBook:G,meta:n}=P();$();var x=me();T(i=>{var _=le();W.title=`opencover : ${z??""}`;var d=Y(_),b=s(d,2),o=s(b,2),t=s(o,2),m=s(t,6);Z(2),C(()=>{f(d,"content",n.url),f(b,"content",n.title),f(o,"content",n.description),f(t,"content",n.image),f(m,"content",n.description)}),u(i,_)});var I=r(x);I.textContent=z;var v=s(I,2),j=r(v);const B=E(()=>{var i;return`/goto/amazon/${(i=p.at(0).book)==null?void 0:i.isbn}`});te(j,{books:p,bgColor:y,get link(){return l(B)}}),a(v);var q=s(v,2);A(q,3,()=>p,i=>i.isbn,(i,_,d)=>{const b=E(()=>p.length>1?l(d)+1:0);ne(i,{get book(){return l(_)},get index(){return l(b)}})}),a(x),u(N,x),K()}export{he as component};
